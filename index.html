<!doctype html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Flipbook Arabic</title>
  <style>
    body { margin: 0; background: #f2f2f2; display: flex; flex-direction: column; align-items: center; justify-content: center; min-height: 100vh; gap: 15px; }
    #book-wrap { width: min(1200px, 95vw); aspect-ratio: 2 / 1; }
    #book { width: 100%; height: 100%; }
    .btns { display: flex; gap: 10px; }
    button { padding: 10px 20px; cursor: pointer; border-radius: 8px; border: none; background: #007bff; color: white; }
  </style>
</head>
<body>

  <div id="book-wrap">
    <div id="book"></div>
  </div>

  <div class="btns">
    <button id="prev">السابق</button>
    <button id="next">التالي</button>
  </div>

  <!-- تأكد من اتصال الإنترنت لتحميل هذه المكتبة -->
  <script src="cdn.jsdelivr.net"></script>

  <script>
    window.onload = () => {
      const TOTAL_PAGES = 25;
      const pages = [];
      
      for (let i = 1; i <= TOTAL_PAGES; i++) {
        const n = String(i).padStart(2, '0');
        // تأكد أن المجلد اسمه pages والصور تنتهي بـ .jpg
        pages.push(`pages/page${n}.jpg`);
      }

      const bookElement = document.getElementById("book");
      
      // التأكد من أن المكتبة تم تحميلها
      if (typeof St === 'undefined' || !St.PageFlip) {
        console.error("المكتبة لم يتم تحميلها بشكل صحيح!");
        return;
      }

      const pageFlip = new St.PageFlip(bookElement, {
        width: 600,
        height: 600,
        size: "stretch",
        showCover: true,
        rtl: true  // تفعيل الاتجاه العربي
      });

      pageFlip.loadFromImages(pages);

      document.getElementById("next").onclick = () => pageFlip.flipNext();
      document.getElementById("prev").onclick = () => pageFlip.flipPrev();
    };
  </script>
</body>
</html>
