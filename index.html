<script>
  document.addEventListener('DOMContentLoaded', () => {
    const TOTAL_PAGES = 25;

    // 1) مصفوفة الصفحات بالترتيب الطبيعي (بدون تبديل/Swap)
    const pages = [];
    for (let i = 1; i <= TOTAL_PAGES; i++){
      const n = String(i).padStart(2,'0');
      pages.push(`pages/page${n}.jpg`);
    }

    const bookEl = document.getElementById('book');

    const pageFlip = new St.PageFlip(bookEl, {
      width: 600,
      height: 600,
      size: "stretch",
      
      // الإعدادات الجوهرية للفتح من اليمين:
      rtl: true,            // تفعيل خاصية اليمين إلى اليسار رسمياً
      showCover: true,      // الصفحة الأولى ستكون غلافاً على جهة اليمين
      
      minWidth: 315,
      maxWidth: 1200,
      minHeight: 315,
      maxHeight: 1200,
      mobileScrollSupport: true,
      useMouseEvents: true,
      swipeDistance: 30,
      flippingTime: 700,
      maxShadowOpacity: 0.35
    });

    pageFlip.loadFromImages(pages);

    // ربط الأزرار (في نظام RTL، التالي يذهب لليسار والسابق لليمين تلقائياً)
    document.getElementById('next').addEventListener('click', () => pageFlip.flipNext());
    document.getElementById('prev').addEventListener('click', () => pageFlip.flipPrev());
  });
</script>
